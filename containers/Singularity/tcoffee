Bootstrap:docker  
From:debian:jessie

%labels
MAINTAINER Edgar Garriga

%environment
  CACHE_4_TCOFFEE='${TMPDIR:-/tmp}/.tcoffee/cache'
  LOCKDIR_4_TCOFFEE='${TMPDIR:-/tmp}/.tcoffee/lock'
  TMP_4_TCOFFEE='${TMPDIR:-/tmp}/.tcoffee/tmp'
  PYTHONPATH=$PYTHONPATH:/home/lib/python2.7/site-packages/

%post
  apt-get update
  apt-get install -y --no-install-recommends ed less vim-tiny wget git
  apt-get install -y --no-install-recommends python build-essential cmake curl libargtable2-0
  apt-get install -y --no-install-recommends python-biopython python-numpy ruby python-setuptools
  apt-get install -y --no-install-recommends default-jdk libpng-dev


##
# install kalign
##
  wget http://msa.sbc.su.se/downloads/kalign/current.tar.gz
  mkdir kalign && tar -zxf current.tar.gz -C /kalign
  cd kalign
  ./configure
  make
  echo 'export PATH=$PATH:/kalign' >>$SINGULARITY_ENVIRONMENT
  rm /current.tar.gz
  cd /

##
# install muscle
##
  wget http://www.drive5.com/muscle/downloads3.8.31/muscle3.8.31_src.tar.gz
  tar -zxf muscle3.8.31_src.tar.gz
  rm muscle3.8.31_src.tar.gz
  cd muscle3.8.31/src
  make
  echo 'export PATH=$PATH:/muscle3.8.31/src' >>$SINGULARITY_ENVIRONMENT
  cd /
